<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Show User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>


<div class="card">
    <div class="card-header">
        <h5 th:text="${user.getUserName()}">User card</h5>
    </div>

    <div class="card-body">
        <h5 class="card-title" th:text="${user.getFirstName()}">FirstName's card </h5>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a th:href="@{/users/index}">Index</a></li>
                <li class="breadcrumb-item active" aria-current="page" th:text="${user.getId()}">ID</li>
            </ol>
        </nav>

        <br>

        <form th:method="PATCH" th:action="@{/users/{id}(id=${user.getId()})}" th:object="${user}">
            <div>
                <label class="sr-only" for="inlineFormInputName1">FirstName</label>
                <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName1"
                       th:field="*{firstName}"
                       th:placeholder="${user.getFirstName()}" disabled>

                <label class="sr-only" for="inlineFormInputName2">LastName</label>
                <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName2"
                       th:field="*{lastName}"
                       th:placeholder="${user.getLastName()}" disabled>

                <label class="sr-only" for="inlineFormInputName3">Email</label>
                <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName3" th:field="*{email}"
                       th:placeholder="${user.getEmail()}" disabled>

                <label class="sr-only" for="inlineFormInputGroupUsername4">Username</label>
                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">@</div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroupUsername4" th:field="*{userName}"
                           th:placeholder="${user.getUserName()}" disabled>
                </div>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexChekedDefault"
                       onclick="myFunction()">
                <label class="form-check-label" for="flexChekedDefault">
                    Edit mode
                </label>
            </div>
            <button type="Submit changes" class="btn btn-primary">Submit</button>
        </form>

        <br>

        <form th:method="DELETE" th:action="@{/users/{id} (id =${user.getId()})}">
            <input type="submit" class="btn btn-danger" value="Delete user">
        </form>

    </div>
</div>

<script>
    state = new Boolean(true)

    function myFunction() {
        if (state == true) {
            document.getElementById("inlineFormInputName1").disabled = false;
            document.getElementById("inlineFormInputName2").disabled = false;
            document.getElementById("inlineFormInputName3").disabled = false;
            document.getElementById("inlineFormInputGroupUsername4").disabled = false;
            state = false;
        } else {
            document.getElementById("inlineFormInputName1").disabled = true;
            document.getElementById("inlineFormInputName2").disabled = true;
            document.getElementById("inlineFormInputName3").disabled = true;
            document.getElementById("inlineFormInputGroupUsername4").disabled = true;
            state = true;
        }
    }
</script>
<!--<a th:href="@{/users/{id}/edit(id =${user.getId()})}">Edit details</a>

-->

</body>
</html>